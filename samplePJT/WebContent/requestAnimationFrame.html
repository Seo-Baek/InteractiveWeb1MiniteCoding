<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
	.btn{
		font-size: 2rem;
	}
</style>
</head>
<body>
	<button class="btn">취소</button>
	
	<script>
		//requestAnimationFrame => IE 10부터 지원 지원 안하면 setInterval을 사용하는 폴리머 사용해야함
		const btn = document.querySelector('.btn');
		let timeId;let n = 0;
		function sample(){
			n++; console.log(n);
			if(n > 200){
				return;
			}
			console.log('sample!');
			timeId = requestAnimationFrame(sample);
		}
		//파라미터에는 함수형이 들어가야 한다!
		//TypeError: Failed to execute 'requestAnimationFrame' 
		//on 'Window': parameter 1 is not of type 'Function'.
		function actOnce(){console.log('sample!')}
		// 원래는 한번만 실행
		requestAnimationFrame(actOnce);
		
		//재귀적으로 requestAnimationFrame이 실행됨
		sample();
		
		btn.addEventListener('click', function(){
			cancelAnimationFrame(timeId);
		});
	</script>
</body>
</html>